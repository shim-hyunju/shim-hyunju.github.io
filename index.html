<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>친절한 한국어 검색 사전</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    <link rel="icon" href="static/images/favicon.png" type="image/x-icon"/>

    <style>
      /* Apply Inter font to the whole body */
      body {
        font-family: "Inter", sans-serif;
      }
      /* Custom styles for a more vibrant, multi-color title */
      .gradient-text {
        background: linear-gradient(
          to right,
          #ef4444,
          #f97316,
          #fbbf24,
          #10b981,
          #3b82f6,
          #6366f1,
          #8b5cf6
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
    </style>
  </head>
  <body class="flex flex-col min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 text-gray-800">
    <header class="bg-white shadow-md py-3 sm:py-4 px-4 sm:px-6 md:px-12">
      <div class="container mx-auto flex justify-between items-center">
        <a href="#" class="text-lg sm:text-xl md:text-2xl font-bold gradient-text" >Shimgoon’s Kor_lang Lab</a>
        <nav class="hidden md:block">
          <ul class="flex space-x-4 lg:space-x-6">
            <li>
              <a href="#features" class="text-sm lg:text-base text-gray-600 hover:text-blue-600 transition-colors duration-200">특징 / Features</a>
            </li>
            <li>
              <a href="#how-to-use" class="text-sm lg:text-base text-gray-600 hover:text-blue-600 transition-colors duration-200">사용법 / How to Use</a>
            </li>
            <li>
              <a href="#contact" class="text-sm lg:text-base text-gray-600 hover:text-blue-600 transition-colors duration-200">문의 / Contact</a>
            </li>
          </ul>
        </nav>
        <button class="md:hidden text-gray-600 text-xl sm:text-2xl focus:outline-none">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </header>

    <section class="flex-grow flex items-center justify-center py-10 sm:py-12 md:py-16 px-4 text-center">
      <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-extrabold mb-3 sm:mb-4 leading-tight gradient-text" >친절한 한국어 검색 사전</h1>
        <p class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-semibold text-gray-700 mb-4 sm:mb-6" >A Kindly Korean Search Dictionary</p>
        <p class="text-base sm:text-lg md:text-xl lg:text-2xl text-gray-700 mb-6 sm:mb-8" >한국어 단어, 복합 어휘, 문장까지 쉽고 편리하게 찾아보세요!<br/>
          Find Korean words, compound vocabulary, and sentences easily and conveniently!
        </p>
        <button type="button" class="px-6 sm:px-8 py-3 sm:py-4 bg-blue-600 text-white font-bold text-base sm:text-lg md:text-xl rounded-full shadow-lg hover:bg-blue-700 transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-blue-300" onclick="location.href = 'https://shimgoon.pythonanywhere.com/'" >지금 시작하기! / Let's Get Started!
        </button>
      </div>
    </section>

    <!-- '주요 특징' 섹션 - 너비 및 디자인 유지 -->
    <section id="features" class="bg-white p-5 sm:p-6 md:p-8 rounded-xl shadow-lg border border-gray-200 py-10 sm:py-12 md:py-16 px-4 md:px-8 w-11/12 md:w-5/6 lg:w-[70vw] max-w-6xl mx-auto mb-10 sm:mb-12">
      <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8 sm:mb-10">주요 특징 / Key Features</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8">
        <div class="bg-white p-5 sm:p-6 rounded-xl shadow-lg border border-gray-200 text-center">
          <div class="text-3xl sm:text-4xl md:text-5xl text-blue-500 mb-3 sm:mb-4">
            <i class="fas fa-search"></i>
          </div>
          <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-700 mb-2 sm:mb-3">다양한 검색 단위
            <br/>Various search units
          </h3>
          <p class="text-base sm:text-lg md:text-xl font-semibold text-gray-700 mb-2 sm:mb-3">단어, 복합 어휘, 문장 단위의 입력을 통한 한국어 어휘 검색이 가능합니다.
            <br/>enable to search for Korean vocabulary by entering a word, compound word, or sentence.
          </p>
        </div>
        <div class="bg-white p-5 sm:p-6 rounded-xl shadow-lg border border-gray-200 text-center">
          <div class="text-3xl sm:text-4xl md:text-5xl text-green-500 mb-3 sm:mb-4">
            <i class="fas fa-language"></i>
          </div>
          <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-700 mb-2 sm:mb-3">다국어 번역<br/>Multilingual Translation</h3>
          <p class="text-base sm:text-lg md:text-xl font-semibold text-gray-700 mb-2 sm:mb-3"> 구글 번역기를 통해 검색 결과를 원하는 언어로 즉시 번역합니다.
            <br/>Instantly translates search results into your desired language via Google Translator.
          </p>
        </div>
        <div class="bg-white p-5 sm:p-6 rounded-xl shadow-lg border border-gray-200 text-center">
          <div class="text-3xl sm:text-4xl md:text-5xl text-purple-500 mb-3 sm:mb-4"> <i class="fas fa-lightbulb"></i></div>
          <h3 class="text-base sm:text-lg md:text-xl font-semibold text-gray-700 mb-2 sm:mb-3">문맥 이해<br/>Contextual Understanding
          </h3>
          <p class="text-base sm:text-lg md:text-xl font-semibold text-gray-700 mb-2 sm:mb-3">문장 전체를 검색하여 문맥에 맞는 정확한 의미를 파악할 수 있도록 돕습니다.
            <br/>Helps you grasp the precise meaning in context by searching entire sentences.
          </p>
        </div>
      </div>
    </section>

    <!-- '사전 사용법' 섹션 - 너비 및 디자인 유지 -->
    <section id="how-to-use" class="bg-white py-10 sm:py-12 md:py-16 px-4 md:px-8 rounded-xl shadow-lg border border-gray-200 w-11/12 md:w-5/6 lg:w-[70vw] max-w-6xl mx-auto mb-10 sm:mb-12">
      <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8 sm:mb-10">사전 사용법 / How to Use the Dictionary</h2>
      <div class="space-y-6 sm:space-y-8">
        <div class="flex flex-col md:flex-row items-center md:space-x-6 lg:space-x-8">
          <div class="text-4xl sm:text-5xl md:text-6xl text-blue-600 mb-3 sm:mb-4 md:mb-0 md:w-1/6 text-center"> <i class="fas fa-keyboard"></i>
          </div>
          <div class="md:w-5/6">
            <h3 class="text-lg sm:text-xl md:text-2xl font-semibold text-gray-700 mb-2">1. 한국어만 입력하세요
              <br/>1. Enter Korean Only
            </h3>
            <p class="text-lg sm:text-xl md:text-2xl font-semibold text-gray-700 mb-2">이 사전은 한국어 어휘만을 제공합니다. 따라서 외국어는 입력하지 마십시오.
              <br/>This dictionary only provides Korean vocabulary. Therefore, please do not enter foreign language words.
            </p>
          </div>
        </div>
        <div class="flex flex-col md:flex-row items-center md:space-x-6 lg:space-x-8">
          <div class="text-4xl sm:text-5xl md:text-6xl text-green-600 mb-3 sm:mb-4 md:mb-0 md:w-1/6 text-center"><i class="fas fa-book-open"></i>
          </div>
          <div class="md:w-5/6">
            <h3 class="text-lg sm:text-xl md:text-2xl font-semibold text-gray-700 mb-2">2. 문장 단위로 검색하세요
              <br/>2. Search by Sentence Units
            </h3>
            <p class="text-lg sm:text-xl md:text-2xl font-semibold text-gray-700 mb-2">이 사전은 구와 절 이상의 단위로 검색창에 입력할 때 그 기능을 효과적으로 이용할 수 있습니다. 따라서 문장에서 특정한 한 단어나 표현의 의미를 알고 싶을지라도, 문장 전체를 검색하는 것이 알고 싶은 어휘만 검색하는 것보다 문맥상 알맞은 어휘를 찾는 데 도움이 됩니다.
              <br/>This dictionary can be effectively utilized when entering phrases or clauses into the search bar. Therefore, even if you want to know the meaning of a specific word or expression in a sentence, searching the entire sentence helps you find the appropriate vocabulary in context better than searching only the word you want to know.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- '후원' 섹션 - 디자인 조정 -->
    <section class="bg-blue-50 p-5 sm:p-6 md:p-8 rounded-xl shadow-lg border border-blue-100 w-11/12 md:w-5/6 lg:w-[70vw] max-w-6xl mx-auto mb-10 sm:mb-12 text-center">
      <img src="static/images/drShim.png" alt="심군 박사 이미지" class="mx-auto shadow-md mb-4 sm:mb-6 w-28 h-28 sm:w-32 md:w-40 md:h-40 object-cover rounded-lg" onerror="this.onerror=null; this.src='https://placehold.co/160x160/E0E0E0/B0B0B0?text=Image+Not+Found';" />
      <h3 class="text-lg sm:text-xl md:text-2xl font-semibold text-gray-700 mb-3 sm:mb-4"> ▼후원을 원하시면(If you would like to donate)▼
      </h3>
      <a href="https://www.buymeacoffee.com/shimgoon" target="_blank" rel="noopener noreferrer">
        <img src="https://img.buymeacoffee.com/button-api/?text=Buy me a kfc&emoji=🍗&slug=shimgoon&button_colour=FF5F5F&font_colour=ffffff&font_family=Bree&outline_colour=000000&coffee_colour=FFDD00"
          alt="Buy Me a Coffee" class="mx-auto rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 w-48 sm:w-auto"/>
      </a>
    </section>

    <!-- '공지' 섹션 - 글자 크기 조정 -->
    <section class="bg-white p-5 sm:p-6 md:p-8 rounded-xl shadow-lg border border-gray-200 w-11/12 md:w-5/6 lg:w-[70vw] max-w-6xl mx-auto mb-10 sm:mb-12">
      <h4 class="text-lg sm:text-xl md:text-2xl font-bold text-center text-gray-800 mb-3 sm:mb-4">= 공지 =</h4>
      <p class="text-sm sm:text-base md:text-lg lg:text-xl text-gray-600 mb-3 sm:mb-4 leading-relaxed">이 프로그램은 구글 크롬 브라우저에서 정상적으로 작동합니다. 그외 브라우저에서는 '발음 듣기' 등 일부 기능이 작동하지 않을 수 있습니다.
        <br/>이 프로그램은 '한국어기초사전', 'googletrans', 'kiwipiepy', 'pythonanywhere', 'git page' 등 무료 API와 호스팅 서비스를 이용하고 있습니다. 따라서 처리 속도가 느리거나 일일 접속자 및 트레픽 제한 등의 사유로 실행 오류가 발생할 수 있으니 이점 양해 부탁드립니다.
      </p>
      <h4 class="text-lg sm:text-xl md:text-2xl font-bold text-center text-gray-800 mb-3 sm:mb-4">= Notice =</h4>
      <p class="text-sm sm:text-base md:text-lg lg:text-xl text-gray-600 leading-relaxed">This program works normally in Google Chrome browser. Some functions, such as 'Listen to pronunciation', may not work in other browsers.
        <br/>This program uses free APIs and hosting services such as 'Korean Basic Dictionary', 'googletrans', 'kiwipiepy', 'pythonanywhere', and 'git page'. Therefore, please understand that execution errors may occur due to slow processing or restrictions on daily users and traffic.
      </p>
    </section>

    <!-- 푸터(Footer) - 글자 크기 조정 -->
    <footer id="contact" class="w-full bg-gray-800 text-white text-center py-6 sm:py-8 mt-auto rounded-t-lg shadow-inner">
      <p class="text-sm sm:text-base md:text-lg font-medium mb-1 sm:mb-2">&copy; Dr. Shim-Goon. All rights reserved.</p>
      <p class="text-sm sm:text-base md:text-lg font-medium">Contact: sfc27@naver.com</p>
    </footer>
    <script type="module">
        // Capacitor 플러그인을 사용하기 위해 import 합니다.
        // 아래 코드는 @capacitor/push-notifications 플러그인이 설치되어 있다고 가정합니다.
        // 만약 해당 플러그인을 사용하지 않는다면 이 import 구문과 관련 로직을 제거하거나 주석 처리해야 합니다.
        
        // Capacitor 객체가 있는지 확인 (웹 환경이 아닌 Capacitor 환경인지 간접적으로 확인)
        // 웹 브라우저에서 실행 시 오류를 방지하고, Capacitor 앱에서만 초기화되도록 합니다.
        if (typeof Capacitor !== 'undefined' && Capacitor.isPluginAvailable && Capacitor.isPluginAvailable('PushNotifications')) {
            // PushNotifications를 동적으로 가져오기 시도
            const { PushNotifications } = Capacitor.Plugins;

            if (PushNotifications) {
                console.log('푸시 알림 초기화 시작...');

                // 1. 푸시 알림 권한 확인 및 요청
                PushNotifications.checkPermissions().then(permStatus => {
                    console.log('현재 푸시 알림 권한 상태:', permStatus.receive);

                    if (permStatus.receive === 'prompt') {
                        return PushNotifications.requestPermissions();
                    }
                    return permStatus;
                }).then(permStatus => {
                    if (permStatus.receive !== 'granted') {
                        console.error('푸시 알림 권한이 거부되었습니다. 앱 설정에서 알림 권한을 허용해주세요.');
                        return; // 권한이 없으면 더 이상 진행하지 않음
                    }

                    // 2. 앱을 푸시 알림에 등록
                    return PushNotifications.register();
                }).then(() => {
                    console.log('앱이 푸시 알림에 성공적으로 등록되었습니다.');

                    // 3. 토큰 수신 리스너: 앱 등록 성공 시 호출되며 FCM 토큰을 받습니다.
                    // 이 토큰을 서버에 저장하여 특정 기기로 알림을 보낼 때 사용합니다.
                    PushNotifications.addListener('registration', (token) => {
                        console.log('FCM 토큰 수신:', token.value);
                        // TODO: 이 토큰을 백엔드 서버로 전송하는 로직을 여기에 구현하세요.
                    });

                    // 4. 등록 실패 리스너
                    PushNotifications.addListener('registrationError', (error) => {
                        console.error('푸시 알림 등록 중 오류 발생:', error);
                    });

                    // 5. 알림 수신 리스너: 앱이 포그라운드/백그라운드에서 실행 중일 때 알림을 받으면 호출됩니다.
                    PushNotifications.addListener('pushNotificationReceived', (notification) => {
                        console.log('푸시 알림 수신됨:', notification);
                        console.log('알림 제목: ' + notification.title + '\n내용: ' + notification.body);
                        // notification.data 객체에 서버에서 보낸 추가 데이터가 포함될 수 있습니다.
                        // 예: 특정 페이지로 이동하거나, 앱 내 UI를 업데이트하는 로직을 여기에 구현
                    });

                    // 6. 알림 클릭/탭 리스너: 앱이 종료된 상태에서 알림을 클릭했을 때 호출됩니다.
                    PushNotifications.addListener('pushNotificationActionPerformed', (action) => {
                        console.log('푸시 알림 클릭됨:', action);
                        console.log('알림 클릭됨! 제목: ' + action.notification.title + '\n데이터: ' + JSON.stringify(action.notification.data));
                        // 알림 클릭 시 특정 액션 수행
                        // 예: window.location.href = '/dictionary?word=' + action.notification.data.searchWord;
                    });

                    console.log('푸시 알림 초기화 완료.');
                }).catch(error => {
                    console.error('푸시 알림 초기화 과정 중 오류 발생:', error);
                });
            } else {
                console.log('PushNotifications 플러그인을 찾을 수 없습니다.');
            }
        } else {
            console.log('Capacitor 네이티브 플랫폼이 아니므로 푸시 알림을 초기화하지 않습니다.');
        }
    </script>
  </body>
</html>
